using System;

public enum TerrainType
{
    Forest,  // 森林
    Desert,  // 砂漠
    Mountain // 山岳地帯
}

public enum WeatherType
{
    Sunny,  // 晴天
    Rainy,  // 雨
    Snowy,  // 雪
    Storm   // 嵐
}

public class Environment
{
    public float temperature;  // 気温
    public float humidity;     // 湿度
    public TerrainType terrain; // 地形
    public WeatherType weather; // 天候
    public bool isDaytime;      // 昼か夜か
    public float resourceAbundance; // 資源の豊富さ

    private float dayNightCycleTime;

    public Environment()
    {
        // 初期値の設定
        temperature = 20f;  // 気温20℃
        humidity = 50f;     // 湿度50％
        terrain = TerrainType.Forest;
        weather = WeatherType.Sunny;
        isDaytime = true;
        resourceAbundance = 1f;  // 資源が豊富
        dayNightCycleTime = 0f;
    }

    public void Update(float deltaTime)
    {
        // 時間とともに環境が変化する
        dayNightCycleTime += deltaTime;
        if (dayNightCycleTime > 10f) // 10秒ごとに昼夜が入れ替わる
        {
            isDaytime = !isDaytime;
            dayNightCycleTime = 0f;
        }

        // 天候や気温、湿度がランダムに変化
        temperature += (float)(new Random().NextDouble() * 4f - 2f);  // 気温が毎回少し変化
        humidity += (float)(new Random().NextDouble() * 5f - 2.5f);   // 湿度が毎回少し変化

        // 天候の変化
        int weatherRoll = new Random().Next(0, 100);
        if (weatherRoll < 10) weather = WeatherType.Rainy;
        else if (weatherRoll < 20) weather = WeatherType.Snowy;
        else if (weatherRoll < 25) weather = WeatherType.Storm;
        else weather = WeatherType.Sunny;

        // 資源量の変化
        resourceAbundance -= deltaTime * 0.01f;
        if (resourceAbundance < 0f) resourceAbundance = 0f;

        Console.WriteLine($"Environment Update: Temp={temperature}°C, Humidity={humidity}%, Weather={weather}, Daytime={isDaytime}, Resources={resourceAbundance}");
    }
}
