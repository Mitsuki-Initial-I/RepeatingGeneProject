using UnityEngine;

public class GameController : MonoBehaviour
{
    public Creature[] creatures;
    public Environment environment;

    void Start()
    {
        environment = new Environment();

        // 食物連鎖を考慮して、異なる食性の生物を生成
        creatures = new Creature[5];
        creatures[0] = new Creature(DietType.Herbivore);  // 草食動物
        creatures[1] = new Creature(DietType.Herbivore);  // 草食動物
        creatures[2] = new Creature(DietType.Carnivore);  // 肉食動物
        creatures[3] = new Creature(DietType.Omnivore);   // 雑食動物
        creatures[4] = new Creature(DietType.Carnivore);  // 肉食動物
    }

    void Update()
    {
        float deltaTime = Time.deltaTime;

        // 環境の更新
        environment.Update(deltaTime);

        // 各生物の状態を更新し、捕食のシミュレーションを実行
        for (int i = 0; i < creatures.Length; i++)
        {
            Creature creature = creatures[i];
            creature.Update(deltaTime, environment, creatures);
        }
    }
}
